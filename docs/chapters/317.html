<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 317 Siege of the Crimson Spire 3 - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">ğŸ“– Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">ğŸ“š Chapters</a>
                <a href="../login.html">ğŸ’¾ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">ğŸ”— Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">ğŸ‘¤ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 317 Siege of the Crimson Spire 3</h1>
            <div class="chapter-meta">
                Chapter 317 of 2720 â€¢ 1,146 words â€¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">ğŸ”Š Play</button>
                <button class="tts-btn tts-pause" type="button">â¸ Pause</button>
                <button class="tts-btn tts-resume" type="button">â–¶ Resume</button>
                <button class="tts-btn tts-stop" type="button">â¹ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85Ã—</option>
                        <option value="1" selected>1Ã—</option>
                        <option value="1.15">1.15Ã—</option>
                        <option value="1.3">1.3Ã—</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="317">
            <p class="chapter-paragraph">Chapter 317 Siege of the Crimson Spire (3)</p>
<p class="chapter-paragraph">Putting her weight behind the Dusk Shard, Effie leaned into the shield and gritted her teeth. A moment later, a monstrous blow landed on it, strong enough to crush stone into dust.</p>
<p class="chapter-paragraph">But unlike Sunny's marvelous Echo, she was not made out of stone.</p>
<p class="chapter-paragraph">Instead, Effie was made out of something far more resilient.</p>
<p class="chapter-paragraph">"Argh!"</p>
<p class="chapter-paragraph">Pushing with all he strength, she felt the shockwave of the impact run through her entire body and then dissipate into the ground. Her bones groaned, but held together. Despite the terrible pressure, she held, too.</p>
<p class="chapter-paragraph">A moment later, Effie growled and pushed even harder, throwing the carapace centurion that had crashed into her a couple of centimeters back. Simultaneously, her spear shot from behind the shield and pierced the black chitin, sinking deep into the flesh of the monster. She twisted it and severed the creature's spine, then slammed her shoulder into the Dusk Shard, sending the massive corpse flying off the bronze blade.</p>
<p class="chapter-paragraph">Just in time. A second later, and the tall bastard would have skewered her with one of its scythes from above.</p>
<p class="chapter-paragraph">But as soon as the centurion fell to the ground, another abomination was already taking its place, with a terrible salivating maw and furious eyes that burned with madness.</p>
<p class="chapter-paragraph">'Curse it all...'</p>
<p class="chapter-paragraph">All around Effie, the bodies of humans and Nightmare Creatures were entangled into an undulating, bleeding, roaring mess. Claws and steel weapons rose and fell, sending streams of blood, splinters of bone, and chunks of flesh to the ground. Screams of fear, pain, and fury mixed with the indescribable howling of the nightmare horde into a cacophonous litany of death.</p>
<p class="chapter-paragraph">In this split second, she noticed one of her fellow hunters throwing the body of an iron spider that had jumped onto him back with a thunderous strike of his shield; a stone golem biting into someone's head with its terrible jagged fangs; a giant centipede wrapping its long segmented body around a screaming human and sinking its hundred legs into his melting armor.</p>
<p class="chapter-paragraph">Then, she had no more time to stare.</p>
<p class="chapter-paragraph">"Hold! Hold, you misbegotten waifs!"</p>
<p class="chapter-paragraph">Taking a step forward, she dodged a harrowing slash of a three-meter tall mantis-like creature's scythe and brought the edge of her shield on the leg of the abominable thing. The thin limb practically exploded, sending the monster crashing down â€” right on the blade of her spear, which flew upward and turned the head of the mantis into a red smudge.</p>
<p class="chapter-paragraph">Before the creature even fell to the ground, Effie had already spun, receiving a rain of blows on her heavy shield. Her spear lashed out from behind it, piercing the body of the attacker through the heart.</p>
<p class="chapter-paragraph">'Blood Flower...'</p>
<p class="chapter-paragraph">Effie held her breath and kicked the rotting primate in the chest, sending it flying back before too much of the damned pollen escaped the wound. The body of the Blood Flower host collided with another monster and exploded into bloody chunks from the force of the impact.</p>
<p class="chapter-paragraph">[You have slain...]</p>
<p class="chapter-paragraph">Noticing a shadow move to her right, Effie turned and thrust her spear forward. But at the last moment, she pulled it back. The point of the bronze blade stopped just a few centimeters away from another human's face.</p>
<p class="chapter-paragraph">For a fraction of the second, they stared at each other â€” Effie with confusion, the vaguely familiar young man with belated fear. Then, a massive shadow moved behind him, and the youth's head suddenly separated from his shoulders in a stream of blood, cut off cleanly with one slash of a metal demon's blade.</p>
<p class="chapter-paragraph">'...Dâ€”damn!'</p>
<p class="chapter-paragraph">Effie looked up at the terrible creature. But before she had time to react, something crashed into her from the side, sending a wave of pain through her body. With a grunt, she slid on the bloodied coral and twisted her torso to put Dusk Shard between herself and the attacker.</p>
<p class="chapter-paragraph">A quick glance let Effie know that her armor was still intact, even if just barely. The point of impact was covered with seething acid, which was biting into the metal, trying to burn through it. Thanks to the enhancement of the Dawn Shard, however, the breastplate remained unscathed.</p>
<p class="chapter-paragraph">She shifted her weight, preparing to deflect the next attack of the giant centipede. Before Effie could, though, something heavy landed on her back, trying to sink its teeth into her neck. She felt drops of blood streaming to her chest.</p>
<p class="chapter-paragraph">A furious growl escaped from her mouth.</p>
<p class="chapter-paragraph">Throwing the Zenith Shard into the maw of the charging centipede and practically severing the body of the creature down its length, she stretched her freed hand back, caught the monster that was trying to bite her head off, and through it to the ground.</p>
<p class="chapter-paragraph">The body of the abomination hit with enough force to make the coral crack. Just to make sure that the bastard was dead, she stomped on it with her foot, shattering the head of the damn thing into tiny pieces.</p>
<p class="chapter-paragraph">But as soon as she did, four more were already around her, their sharp claws and fangs lusting to taste her blood.</p>
<p class="chapter-paragraph">Bringing the Dusk Shard down on one of them, Effie grinned, then twisted and summoned her spear back.</p>
<p class="chapter-paragraph">With blood streaming from her wounded neck, she dodged a powerful claw and laughed:</p>
<p class="chapter-paragraph">"Bastards! Are you... trying to eat... me?! Ha-ha-ha... let's see who's gonna eat who, fools!"</p>
<p class="chapter-paragraph">All around her, the first line of the Dreamer Army was slowly buckling under the pressure of the nightmare horde. So many of them were already dead, and more were dying every second. Their bodies were torn to pieces and devoured, disappearing into the mass of monsters like morning dew. That sight was so harrowing and chilling that the mind simply refused to process it.</p>
<p class="chapter-paragraph">And yet, the Sleepers of the first line â€” those who possessed the most powerful combat Aspects and the best Memories â€” had achieved their goal. They stopped the devastating wave of abominations in its tracks and tied it down with their blades and their lives.</p>
<p class="chapter-paragraph">The horde failed to roll over the human army, obliterating it completely without even slowing down.</p>
<p class="chapter-paragraph">More than that, the massacre was not one-sided. For every human killed, several Nightmare Creatures were wounded, crushed, and cut to pieces. Arduously and at a great price, the first line was reforming itself, the survivors of the initial charge rallying around three champions.</p>
<p class="chapter-paragraph">They were Effie, Gemma, and Caster.</p>
<p class="chapter-paragraph">With each of them turning into a bastion in the sea of monsters and gathering fighters around them, the advance of the horde stalled. Whatever creatures managed to get past were met and eviscerated by the Sleepers of the second line, led by Seishan.</p>
<p class="chapter-paragraph">...And throughout all of that, the archers and the siege engines of the third line never stopped firing.</p>
        </div>
        
        <div class="chapter-nav">
            <a href="316.html" class="">â† Previous</a>
            <a href="../chapter-list.html">ğŸ“š All Chapters</a>
            <a href="318.html" class="">Next â†’</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>ğŸ“– Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">ğŸ‘¤ Characters</button>
            <button class="wiki-tab" data-tab="terms">ğŸ“š Terms</button>
            <button class="wiki-tab" data-tab="locations">ğŸ—ºï¸ Places</button>
            <button class="wiki-tab" data-tab="events">âš”ï¸ Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">ğŸ“–</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ğŸ¤–</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ğŸ¤– Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>ğŸ‘¤ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">ğŸ‘¤</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">ğŸ“·</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">ğŸ“Š READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">â€”</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">âš™ï¸ ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">â€”</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸªŸ</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldnâ€™t start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>