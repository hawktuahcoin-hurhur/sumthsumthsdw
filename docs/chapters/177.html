<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 177 Cloak and Dagger - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">ğŸ“– Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">ğŸ“š Chapters</a>
                <a href="../login.html">ğŸ’¾ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">ğŸ”— Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">ğŸ‘¤ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 177 Cloak and Dagger</h1>
            <div class="chapter-meta">
                Chapter 177 of 2720 â€¢ 1,022 words â€¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">ğŸ”Š Play</button>
                <button class="tts-btn tts-pause" type="button">â¸ Pause</button>
                <button class="tts-btn tts-resume" type="button">â–¶ Resume</button>
                <button class="tts-btn tts-stop" type="button">â¹ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85Ã—</option>
                        <option value="1" selected>1Ã—</option>
                        <option value="1.15">1.15Ã—</option>
                        <option value="1.3">1.3Ã—</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="177">
            <p class="chapter-paragraph">Sunny grew silent and tried very hard not to look at the huntress, who was glaring at him with murder in her eyes. Did he hear it right?</p>
<p class="chapter-paragraph">"Uh... excuse me? Keep her safe?"</p>
<p class="chapter-paragraph">Nephis gave him a nod, then hesitated for a few moments and sighed.</p>
<p class="chapter-paragraph">"I guess I owe you an explanation."</p>
<p class="chapter-paragraph">With a frown, she glanced at the map of the Dark City. Her gaze was fixed on the symbol of a tower drawn in its center with white paint.</p>
<p class="chapter-paragraph">The Bright Castle.</p>
<p class="chapter-paragraph">After a few moments, she said:</p>
<p class="chapter-paragraph">"You asked why Gunlaug hasn't killed us all yet. This is a good question. However, the answer is... complicated."</p>
<p class="chapter-paragraph">Changing Star turned her head and looked at Sunny.</p>
<p class="chapter-paragraph">"Partially, it is because I have not challenged him openly yet. I also haven't done anything to justify an intervention. Everything we have accomplished for the benefit of the outer settlement not only fell outside the purview of his reign over the castle, but also strengthened the human position on the Forgotten Shore overall. Officially, he has no grounds to accuse me."</p>
<p class="chapter-paragraph">Sunny scoffed.</p>
<p class="chapter-paragraph">"It's not like Gunlaug really needs justification. He only needs the pretense of one, and even then just barely."</p>
<p class="chapter-paragraph">Nephis slightly frowned.</p>
<p class="chapter-paragraph">"You are right. If he really wanted to escalate the situation and bring about an open conflict, he could have easily created a reason. Alternatively, he could have sent Harus under the cover of night to make me disappear without a trace. But he didn't. And... we are not entirely sure why."</p>
<p class="chapter-paragraph">Sunny blinked.</p>
<p class="chapter-paragraph">"You don't know?"</p>
<p class="chapter-paragraph">Glancing at Caster, Neph shook her head.</p>
<p class="chapter-paragraph">"There are several possible reasons. Perhaps he is uncertain if Harus will be able to dispose of me. Perhaps he is using the growing status of the outer settlement as a deterrent against his lieutenants' ambitions. Perhaps he is just confident and patient. Whatever the case, Gunlaug more or less tolerated our existence for these past four months."</p>
<p class="chapter-paragraph">Caster sighed and added:</p>
<p class="chapter-paragraph">"Of course, there were still challenges we had to overcome. If we weren't cautious in how we dealt with these provocations, things would have been very different."</p>
<p class="chapter-paragraph">Changing Star nodded.</p>
<p class="chapter-paragraph">"Indeed. There were several attempts to taunt us into confrontation already. Nothing too bloody, though. However... things seem to have changed. We received word from the castle that Gunlaug is going to act against us soon. This time, he is aiming at one of my companions. The attack will be a serious one, and the target is Effie."</p>
<p class="chapter-paragraph">Sunny glanced at the unruly huntress and raised his eyebrows. He had a lot of questions.</p>
<p class="chapter-paragraph">"Why her?"</p>
<p class="chapter-paragraph">Caster clenched his fists.</p>
<p class="chapter-paragraph">"It could have been any of us, really, but Effie... despite all my warnings... got into a rather vulgar argument with a bunch of Guards who came into the outer settlement for some entertainment. Coincidentally, some of these Guards went missing last night. No one knows what happened to them."</p>
<p class="chapter-paragraph">'...Oops.'</p>
<p class="chapter-paragraph">Sunny was pretty sure that he knew exactly what had happened to them, though. After all, he was the one who killed them.</p>
<p class="chapter-paragraph">...But Caster didn't need to know any of this.</p>
<p class="chapter-paragraph">"Actually, I might know something about that!" Kai suddenly said, smiling like an idiot.</p>
<p class="chapter-paragraph">'Who asked that fool to open his mouth?!'</p>
<p class="chapter-paragraph">He tried to make the archer shut up with a murderous stare, but it was already too late. Kai enthusiastically went on to describe how he was kidnapped, put in the well, and then rescued by a mysterious stranger â€” who turned out to be Sunny.</p>
<p class="chapter-paragraph">Luckily, he was under the impression that the kidnappers were all slaughtered by the Black Knight, not realizing that Sunny was the one who had lured them into the cathedral in the first place â€” after personally killing their leader.</p>
<p class="chapter-paragraph">If Kai knew the full truth, things might have turned rather awkward.</p>
<p class="chapter-paragraph">After he was done talking, Caster sighed.</p>
<p class="chapter-paragraph">"Thank you, this is a very valuable piece of information. Sadly, it doesn't change anything. Effie is still in danger. The Bright Lord is going to use her as a hostage and force Lady Nephis to challenge him. If she does, he will kill her. If she doesn't, Effie will die, and our reputation will be ruined. Either way, he wins."</p>
<p class="chapter-paragraph">Sunny cast a sideways glance at Effie, who was still relaxed and seemingly undisturbed by the prospect of dying horribly in the dungeons of the Bright Castle. In fact, she was currently more interested in fishing out a piece of meat that was stuck between her pearly teeth and not paying Caster any attention.</p>
<p class="chapter-paragraph">'What a lunatic.' Sunny thought with scorn, making his shadow shake its head at the irony of that statement.</p>
<p class="chapter-paragraph">Turning to Nephis and Caster, he asked:</p>
<p class="chapter-paragraph">"How do you know all this?"</p>
<p class="chapter-paragraph">In fact, this question was moot. He already had the idea. To receive information about Gunlaug's plans, they had to have a spy in the castle. More than that, given the nature of that information, it had to be someone of considerable rank. Perhaps even someone in the inner circle of the Bright Lord.</p>
<p class="chapter-paragraph">Was Neph... working with one of the lieutenants?</p>
<p class="chapter-paragraph">Sunny counted the number of chairs in the room. There were seven chairs, but only six people.</p>
<p class="chapter-paragraph">'Interesting...'</p>
<p class="chapter-paragraph">Caster hesitated, then reluctantly said:</p>
<p class="chapter-paragraph">"We have an... ally."</p>
<p class="chapter-paragraph">Sunny decided not to press the issue any further. Frankly, he didn't really want to know. There was just one last question he wanted to ask.</p>
<p class="chapter-paragraph">"I see. Well, there is this one thing that I don't really understand. You said to keep Effie safe for a week. What is going to change in a week? I doubt that Gunlaug will magically forget everything after a few days."</p>
<p class="chapter-paragraph">A heavy silence descended on the room. No one seemed to want to speak first.</p>
<p class="chapter-paragraph">After a few moments passed, Nephis finally broke the silence. Looking in the window, she leaned back and said in her usual even, indifferent tone:</p>
<p class="chapter-paragraph">"In a week, we will be ready to leave the city."</p>
<p class="chapter-paragraph">Sunny almost fell from his chair.</p>
<p class="chapter-paragraph">...That was not what he had expected to hear.</p>
        </div>
        
        <div class="chapter-nav">
            <a href="176.html" class="">â† Previous</a>
            <a href="../chapter-list.html">ğŸ“š All Chapters</a>
            <a href="178.html" class="">Next â†’</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>ğŸ“– Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">ğŸ‘¤ Characters</button>
            <button class="wiki-tab" data-tab="terms">ğŸ“š Terms</button>
            <button class="wiki-tab" data-tab="locations">ğŸ—ºï¸ Places</button>
            <button class="wiki-tab" data-tab="events">âš”ï¸ Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">ğŸ“–</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ğŸ¤–</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ğŸ¤– Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>ğŸ‘¤ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">ğŸ‘¤</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">ğŸ“·</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">ğŸ“Š READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">â€”</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">âš™ï¸ ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">â€”</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸªŸ</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldnâ€™t start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>