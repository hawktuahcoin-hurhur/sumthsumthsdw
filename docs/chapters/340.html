<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 340 Honor - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">üìñ Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">üìö Chapters</a>
                <a href="../login.html">üíæ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">üîó Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">üë§ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 340 Honor</h1>
            <div class="chapter-meta">
                Chapter 340 of 2720 ‚Ä¢ 1,306 words ‚Ä¢ 5 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">üîä Play</button>
                <button class="tts-btn tts-pause" type="button">‚è∏ Pause</button>
                <button class="tts-btn tts-resume" type="button">‚ñ∂ Resume</button>
                <button class="tts-btn tts-stop" type="button">‚èπ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85√ó</option>
                        <option value="1" selected>1√ó</option>
                        <option value="1.15">1.15√ó</option>
                        <option value="1.3">1.3√ó</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="340">
            <p class="chapter-paragraph">Chapter 340 Honor</p>
<p class="chapter-paragraph">For a few seconds, both of them stood without motion. On Caster's face, shock and disbelief were mixed with fury, indignation... and fear.</p>
<p class="chapter-paragraph">Slowly, he raised his head and pierced Sunny with a hateful gaze.</p>
<p class="chapter-paragraph">"You scum..."</p>
<p class="chapter-paragraph">His voice was trembling with suppressed rage.</p>
<p class="chapter-paragraph">'Good. Rage is good. Anything that makes him lose control is g...'</p>
<p class="chapter-paragraph">In the next moment, Sunny got hit in the chest and flew back with a pained scream. Although he somehow managed to deflect the tip of the enchanted jian, the Legacy still ended up slamming into him like a speeding train. The blade of his sword pierced the Puppeteer's Shroud once again, slicing Sunny's forearm.</p>
<p class="chapter-paragraph">'Godammit!'</p>
<p class="chapter-paragraph">This was just unfair. The Shroud was a tier-five Memory of the Awakened Rank. Where did the bastard find a weapon that could cut through it so easily?!</p>
<p class="chapter-paragraph">...Well, Sunny more or less knew where. Who was to say that the ghostly green jian wasn't of the same tier, if not higher? Legacy clans had a lot of powerful Memories in their treasuries.</p>
<p class="chapter-paragraph">Unlike him.</p>
<p class="chapter-paragraph">Hitting the ground in a roll, Sunny dashed to the side and used the pommel of the Midnight Shard to slam Caster's hand away. He barely saved himself from being decapitated.</p>
<p class="chapter-paragraph">Shaken, Sunny threw a handful of coral dust into the air and retreated. A moment later, his enemy emerged from the dust like a vengeful demon. The damned jian was once again aimed at his heart.</p>
<p class="chapter-paragraph">But...</p>
<p class="chapter-paragraph">Caster looked different.</p>
<p class="chapter-paragraph">It seemed that Sunny was right on the money with his guess about the proud scion's Flaw and the purpose of the mysterious charm Memory. Before, Caster had already looked slightly older that the other members of the cohort... which was strange, considering that both Effie and Kai were supposed to be the oldest among them. This was what had initially caught Sunny's attention, because back at the Academy, there had been no such difference.</p>
<p class="chapter-paragraph">However, now that the crystal sandglass was broken, time seemed to be catching up with the Legacy. If anyone were to see him now, they would have assumed that he was in his late twenties, perhaps even early thirties.</p>
<p class="chapter-paragraph">He still resembled the youth that Sunny had met just a year ago, but just barely. Instead, a handsome, mature, powerful man was attacking him, his dark skin still smooth, but already showing the signs of future wrinkles at the corners of his eyes and mouth. There were several silver hairs in his beard.</p>
<p class="chapter-paragraph">Straining every muscle in his body, Sunny stood his ground and parried the deadly thrust, then dodged to the left. Once again, he was a fraction of a second late, and another cut appeared on his body.</p>
<p class="chapter-paragraph">'Curses!'</p>
<p class="chapter-paragraph">With a pained grimace, Sunny dodged, evaded, parried and blocked, continuing to retreat and create distance between himself and Caster. At some point, a furious roar made his ears ring:</p>
<p class="chapter-paragraph">"Get back here, you rat! Why are you running like a coward?!"</p>
<p class="chapter-paragraph">Hidden behind the mask and struggling to breathe, Sunny gritted his teeth and hissed:</p>
<p class="chapter-paragraph">"No... reason... in particular..."</p>
<p class="chapter-paragraph">The next time he and Caster clashed, the Legacy appeared to be in his late thirties. Now, he resembled a man in his prime. His powerful physique became even more formidable, his broad shoulders straining the metal of the sturdy scale armor. His temples were grey, and his beard had silver streaks running through it. He looked like the kind of older man young girls would be utterly smitten by.</p>
<p class="chapter-paragraph">Sunny groaned as he felt another laceration appear on his body, pushed Caster away, then dashed back. The Midnight Shard flew from one side to another, from low to high, not stopping even for a split second. The ringing of steel fused into a continuous, deafening clamor. He felt as though his lungs were on fire, but couldn't allow himself to slow down ever for a moment.</p>
<p class="chapter-paragraph">A momentary lapse was going to cost him his life.</p>
<p class="chapter-paragraph">'Come on... this... this is not much worse than facing... against... Saint...'</p>
<p class="chapter-paragraph">But it was worse. So much worse...</p>
<p class="chapter-paragraph">Even while augmented by the shadow, Sunny couldn't resist Caster's furious onslaught. He was stronger and much more resilient, but that was the thing about sharp weapons ‚Äî they were created to make the amount of force required to kill someone much less demanding. A skilled swordsman that relied on speed could dispatch of an enemy with one well-aimed touch of the blade.</p>
<p class="chapter-paragraph">To someone like Sunny, Caster was a nightmare. If not for the Blood Weave, he would have grown weak and slow from blood loss a long time ago, just from the numerous cuts on his body.</p>
<p class="chapter-paragraph">And yet, he resisted and continued to retreat, desperately deflecting one lightning-fast strike after another.</p>
<p class="chapter-paragraph">...The next time Sunny got a good look at the proud Legacy, he felt a cold shiver run down his spine.</p>
<p class="chapter-paragraph">Attacking him was an old man. His gaunt face was laced with a spiderweb of wrinkles, and his hair and beard were completely grey. There was almost no sign left of the handsome youth he had known... and despised... for so long.</p>
<p class="chapter-paragraph">Caster was still full of power and vigor, though. His fury was still as murderous and scathing as it had been before. His speed, however... was just a tiny bit slower.</p>
<p class="chapter-paragraph">"Die, mongrel!"</p>
<p class="chapter-paragraph">With a furious roar, Caster brought down the ghostly jian down on Sunny, who was still reeling from the previous blow. Desperate, Sunny raised his tachi into an awkward semblance of a block. When their swords collided, the Midnight Shard flew aside and almost slid from his hands.</p>
<p class="chapter-paragraph">...What's worse, Sunny lost his balance and fell backward, landing on the ground in a heap.</p>
<p class="chapter-paragraph">As a cruel smile appeared on the old man's weathered face, he lunged forward to finish the defenseless enemy.</p>
<p class="chapter-paragraph">...But at the last second, a calm voice resounded from behind his back.</p>
<p class="chapter-paragraph">The voice he hated, but knew so well.</p>
<p class="chapter-paragraph">Standing somewhere behind him, Nephis ordered in a tone that denied refusal:</p>
<p class="chapter-paragraph">"Back!"</p>
<p class="chapter-paragraph">Caster's eyes widened. With an expression of utter terror, he spun around and raised his sword, ready to finally face the person he had dreaded and wanted to kill for so long.</p>
<p class="chapter-paragraph">However, when he did, he saw nothing but emptiness.</p>
<p class="chapter-paragraph">There was no one behind him. Just a simple rock laying on the ground.</p>
<p class="chapter-paragraph">As Caster watched in confusion, his thoughts slow due to the debilitating effect of age, the rock shouted in Changing Star's voice:</p>
<p class="chapter-paragraph">"Hide in the shadows!"</p>
<p class="chapter-paragraph">Almost immediately, the proud scion's pupils narrowed. With a dark grimace, he spun back, moving his sword into a defensive position.</p>
<p class="chapter-paragraph">...He was just a fraction of a second late.</p>
<p class="chapter-paragraph">Without making any sound, the tip of the Midnight Shard pierced his scale armor, his flesh...</p>
<p class="chapter-paragraph">And then his heart.</p>
<p class="chapter-paragraph">Staring at the stunned face of the feeble old man in front of him, Sunny scowled and sighed.</p>
<p class="chapter-paragraph">Caster looked down, at the blade protruding from his chest and the blood streaming from beneath, then weekly grabbed the tachi with his hand. A pained, resentful grimace contorted his pale, wrinkled face.</p>
<p class="chapter-paragraph">Straining to raise his head, he looked Sunny in the eyes and whispered:</p>
<p class="chapter-paragraph">"You... you have no... no honor."</p>
<p class="chapter-paragraph">Sunny stared at the dying old man with pity, then looked away.</p>
<p class="chapter-paragraph">"...There is honor, indeed. Honor... is not just a word powerful scumbags invented to make young fools like you die for them. And kill for them. It's not a chain that they wrapped around your neck, to make you a slave."</p>
<p class="chapter-paragraph">Caster looked at him for a few moments, trying to say something, but then slowly fell to his knees.</p>
<p class="chapter-paragraph">In the sudden silence, the voice of the Spell whispered:</p>
<p class="chapter-paragraph">[You have slain a dormant human, Han Li Caster.]</p>
<p class="chapter-paragraph">[Your shadow grows stronger!]</p>
        </div>
        
        <div class="chapter-nav">
            <a href="339.html" class="">‚Üê Previous</a>
            <a href="../chapter-list.html">üìö All Chapters</a>
            <a href="341.html" class="">Next ‚Üí</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>üìñ Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">üë§ Characters</button>
            <button class="wiki-tab" data-tab="terms">üìö Terms</button>
            <button class="wiki-tab" data-tab="locations">üó∫Ô∏è Places</button>
            <button class="wiki-tab" data-tab="events">‚öîÔ∏è Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">üìñ</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ü§ñ</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ü§ñ Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>üë§ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">üë§</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">üì∑</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">üìä READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">‚Äî</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">‚öôÔ∏è ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">‚Äî</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">‚úÖ</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ü™ü</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldn‚Äôt start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>