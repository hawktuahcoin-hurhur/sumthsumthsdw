<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 320 Siege of the Crimson Spire 6 - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">üìñ Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">üìö Chapters</a>
                <a href="../login.html">üíæ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">üîó Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">üë§ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 320 Siege of the Crimson Spire 6</h1>
            <div class="chapter-meta">
                Chapter 320 of 2720 ‚Ä¢ 1,112 words ‚Ä¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">üîä Play</button>
                <button class="tts-btn tts-pause" type="button">‚è∏ Pause</button>
                <button class="tts-btn tts-resume" type="button">‚ñ∂ Resume</button>
                <button class="tts-btn tts-stop" type="button">‚èπ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85√ó</option>
                        <option value="1" selected>1√ó</option>
                        <option value="1.15">1.15√ó</option>
                        <option value="1.3">1.3√ó</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="320">
            <p class="chapter-paragraph">Chapter 320 Siege of the Crimson Spire (6)</p>
<p class="chapter-paragraph">"Draw! Aim! Endure!"</p>
<p class="chapter-paragraph">Just as Night shouted these words, Aiko tripped and fell. The bundle of arrows she was carrying in her arms scattered on the ground.</p>
<p class="chapter-paragraph">"Ouch..."</p>
<p class="chapter-paragraph">Picking herself up from the coral, she hurriedly gathered the arrows and dashed to the nearest archer, then placed them near his feet.</p>
<p class="chapter-paragraph">In this battle, the role of people like her ‚Äî those who were too weak to fight and did not possess a useful Aspect ‚Äî was simultaneously the most simple and the most chaotic. They were charged with supplying the Sleepers participating in the battle with everything they needed, be it arrows, crossbow bolts, stones for their slings, or anything else.</p>
<p class="chapter-paragraph">There were several teams of runners doing different things. Initially, she was supposed to help carry the wounded from the first and second lines to the makeshift hospital at the back of the formation. There, a few people with Aspect Abilities having to do with healing waited, ready to help. Her friend Stev was one of them.</p>
<p class="chapter-paragraph">...But as it turned out, there wasn't a lot of wounded in this battle. Most simply died on the spot. So she was left with nothing to do and ended up here, helping to supply the archers.</p>
<p class="chapter-paragraph">She had just brought two quivers to Night, and was on her way...</p>
<p class="chapter-paragraph">...Wait, how crazy was that?</p>
<p class="chapter-paragraph">Trying to catch her breath, Aiko glanced around and shivered.</p>
<p class="chapter-paragraph">'Crazy, this is crazy...'</p>
<p class="chapter-paragraph">The scene in front of her was just too bizarre to be true. Several hundred Sleepers were besieged by a horde of Nightmare Creatures on the ground, with another falling on them from above. All that in front of an ugly, endless tower of crimson coral. Surely, she was dreaming...</p>
<p class="chapter-paragraph">'Of course you are! This is the Dream Realm, you dimwit!'</p>
<p class="chapter-paragraph">And yet, the weirdest thing of all... was that she was stuck in all this craziness with none other than Night from Nightingale, the breathtakingly beautiful idol whose posters hung on the walls of most girls her age back home. Despite the fact that the two of them had known each other for more than a year and were even... uh... on friendly terms, this fact was the one that pushed the surrealism of the situation over the edge.</p>
<p class="chapter-paragraph">This was exactly the kind of weird dream a teenage girl like her would have.</p>
<p class="chapter-paragraph">Just as she thought about that, someone fell to the ground a few meters away from her. Turning her head to the sound of a muffled curse, Aiko saw Stev and another Sleeper carrying a crude stretcher. On it was a young woman, covered in blood and pale as a ghost, her leather armor torn apart and on the verge of dissipating.</p>
<p class="chapter-paragraph">A moment before, Stev's partner had tumbled down. It appeared as though he was wounded himself, albeit not too seriously. Running up to them, Aiko took over and helped the ample giant keep the stretcher even.</p>
<p class="chapter-paragraph">Carrying that weight with her tiny body was not easy, but she gritted her teeth and persevered.</p>
<p class="chapter-paragraph">Together, they hurried to the back of the formation.</p>
<p class="chapter-paragraph">On the way, they had to run past the desperate archers and the exhausted crews of the siege engines, who were slowly but surely running out of the massive lances to hurl at the rampaging horde.</p>
<p class="chapter-paragraph">From the look of it, things weren't going well for the Dreamer Army.</p>
<p class="chapter-paragraph">Down below, the first line was in the process of being completely eviscerated. Three islands of resistance still persisted in the sea of monsters, but Aiko didn't know how much longer those poor people would be able to hold. The second line was now entangled with the Nightmare Creatures, too. The initial plan had been for these two forces to switch positions to give the exhausted warriors time to rest, but now, it was never going to happen.</p>
<p class="chapter-paragraph">Up above, more and more corpses were falling on the invisible iron net. Despite that, the number of the flying abominations did not seem to diminish at all. The metal wires were groaning, having to carry more and more weight.</p>
<p class="chapter-paragraph">'Are we all going to die?'</p>
<p class="chapter-paragraph">Feeling cold dread spread through her body, Aiko trembled and involuntarily turned her head to the tallest point in the Dreamer Army camp. There, on a protruding mound of crimson coral, she saw three figures.</p>
<p class="chapter-paragraph">One was Saint Nephis herself. The other was her blind oracle. And the third...</p>
<p class="chapter-paragraph">'Wait... what is that guy doing there?!'</p>
<p class="chapter-paragraph">The third person was none other than Sunny, the strange young man who had gotten her into this mess to begin with.</p>
<p class="chapter-paragraph">After joining the Changing Star's faction, Aiko had quickly learned who the important people were and what positions they held in the Bright Lady's cohort. Everyone's role was clear and easy to understand.</p>
<p class="chapter-paragraph">...Except for Sunny.</p>
<p class="chapter-paragraph">What role that pale youth played was entirely unclear. People seemed to consider him a member of Lady Nephis's cohort, but Sunny himself always insisted that he was not. He was thought to be a competent fighter, but actually, no one had really seen him fight.</p>
<p class="chapter-paragraph">Most people just knew him for his tendency to keep to himself, ridiculous bragging, and carefree attitude. They simultaneously respected him for being Changing Star's scout and considered him mostly harmless.</p>
<p class="chapter-paragraph">However, Aiko did not think that Sunny was harmless. She had seen him appear from the shadows and kill the Guard who had been strangling her with one relaxed move, as though getting rid of an insect.</p>
<p class="chapter-paragraph">In her mind, Sunny was very mysterious. He was a wild card.</p>
<p class="chapter-paragraph">Seeing him with Lady Nephis now, she suddenly felt a tiny bit of hope.</p>
<p class="chapter-paragraph">Maybe Changing Star had a plan.</p>
<p class="chapter-paragraph">Maybe they were going to survive, after all...</p>
<p class="chapter-paragraph">"Aiko! Move your short legs faster, will you!"</p>
<p class="chapter-paragraph">Frowning at Stev's remark, she looked at the ground and concentrated on not slowing her giant friend down.</p>
<p class="chapter-paragraph">Soon, they reached the hospital and placed the stretcher on the makeshift table. Stev dashed to retrieve his tools...</p>
<p class="chapter-paragraph">But it was too late. The young girl on the stretcher was already dead.</p>
<p class="chapter-paragraph">Aiko remained motionless for a bit, staring at the ground. After a while, Stev cautiously touched her on the shoulder.</p>
<p class="chapter-paragraph">"Hey... are you okay, shorty?"</p>
<p class="chapter-paragraph">She wiped her face, then nodded.</p>
<p class="chapter-paragraph">"Yeah. I'm fine. Gotta run, though. Those... those arrows aren't going to carry themselves."</p>
<p class="chapter-paragraph">Stev lingered for a bit, then tried to smile.</p>
<p class="chapter-paragraph">"Alright. Uh... stay safe."</p>
<p class="chapter-paragraph">She smiled and nodded again.</p>
<p class="chapter-paragraph">"Yeah. You stay safe, too."</p>
<p class="chapter-paragraph">With that, Aiko turned around and ran out of the tent.</p>
<p class="chapter-paragraph">Outside, the battle was only growing more ferocious.</p>
        </div>
        
        <div class="chapter-nav">
            <a href="319.html" class="">‚Üê Previous</a>
            <a href="../chapter-list.html">üìö All Chapters</a>
            <a href="321.html" class="">Next ‚Üí</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>üìñ Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">üë§ Characters</button>
            <button class="wiki-tab" data-tab="terms">üìö Terms</button>
            <button class="wiki-tab" data-tab="locations">üó∫Ô∏è Places</button>
            <button class="wiki-tab" data-tab="events">‚öîÔ∏è Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">üìñ</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ü§ñ</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ü§ñ Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>üë§ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">üë§</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">üì∑</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">üìä READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">‚Äî</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">‚öôÔ∏è ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">‚Äî</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">‚úÖ</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ü™ü</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldn‚Äôt start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>