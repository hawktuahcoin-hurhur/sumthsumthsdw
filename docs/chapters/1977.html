<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 1977 Their Legacy - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">ğŸ“– Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">ğŸ“š Chapters</a>
                <a href="../login.html">ğŸ’¾ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">ğŸ”— Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">ğŸ‘¤ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 1977 Their Legacy</h1>
            <div class="chapter-meta">
                Chapter 1977 of 2720 â€¢ 1,132 words â€¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">ğŸ”Š Play</button>
                <button class="tts-btn tts-pause" type="button">â¸ Pause</button>
                <button class="tts-btn tts-resume" type="button">â–¶ Resume</button>
                <button class="tts-btn tts-stop" type="button">â¹ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85Ã—</option>
                        <option value="1" selected>1Ã—</option>
                        <option value="1.15">1.15Ã—</option>
                        <option value="1.3">1.3Ã—</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="1977">
            <p class="chapter-paragraph">Rain lingered for a moment, then said in a neutral tone:</p>
<p class="chapter-paragraph">"That's... a bit ominous."</p>
<p class="chapter-paragraph">Sunny chuckled and looked at the tree with a distant expression. Eventually, he glanced at her with a faint smile. "I wanted you to see this tree, actually."</p>
<p class="chapter-paragraph">He paused for a heartbeat or two, then looked away.</p>
<p class="chapter-paragraph">"People in the outskirts rarely get to have graves. The place is terribly overcrowded â€” well, at least it used to be before the Dream Gates â€” and the mortality rate is extremely high. Bodies get disposed of in a very utilitarian way, so there's nothing left behind."</p>
<p class="chapter-paragraph">Sunny sighed. "Very few people from the outskirts survive the First Nightmare, as well. So, I was quite convinced that I would die when the Spell chose me. I didn't mind that much, really, but it was a bit sad to think that there would be no trace of me left in the world..."</p>
<p class="chapter-paragraph">He paused for a moment and smiled wryly, realizing how ironic it was. After all, that was exactly what had happened to him, in the end â€” every trace of his life had been erased from existence, leaving nothing behind. He had assured this obliteration willingly, earnestly, and with his own hands. Oblivious to his thoughts, Rain listened to him intently.</p>
<p class="chapter-paragraph">Sunny looked at her, then pointed to the lonely tree. "That was why I carved a line into this tree before entering the Nightmare. You know... to leave my mark on the world."</p>
<p class="chapter-paragraph">She traced his finger and studied the dark bark, then frowned slightly.</p>
<p class="chapter-paragraph">"But there are three lines."</p>
<p class="chapter-paragraph">Sunny nodded. "Yes. That is because I had carved two lines into the tree before that."</p>
<p class="chapter-paragraph">He paused for a few moments.</p>
<p class="chapter-paragraph">"For our parents."</p>
<p class="chapter-paragraph">Rain grew quiet, looking at the three lines with a guarded expression.</p>
<p class="chapter-paragraph">Sunny smiled wistfully. What could he say?</p>
<p class="chapter-paragraph">After a while, he finally spoke:</p>
<p class="chapter-paragraph">"They were good people, the two of them. Actually, they were very mundane people, but that is already an accomplishment in the outskirts. Our father... I don't really remember him that well. In my memory, he is more of a feeling than a person â€” something big, quiet, strong, and caring. Mom used to say that he had a mischievous side and quite a hot temper hiding behind the calm facade, but I don't know. He worked on one of the city barrier maintenance crews, and died in an accident not long after you were born. Stuff like that happens all the time to maintenance workers."</p>
<p class="chapter-paragraph">Sunny did not know a lot about his father, but he did know some things. The mere fact that his dad had been a maintenance worker instead of ending up in one of the local gangs spoke a lot about his character. The way he had cared about his family was quite telling, too.</p>
<p class="chapter-paragraph">He had been a good person, and both Sunny and Rain inherited some of that goodness... it seemed. It suddenly occurred to Sunny that Rain's mild obsession with building and infrastructure, which she had picked up while working as a laborer on the road crew, might have come from their dad.</p>
<p class="chapter-paragraph">He smiled. "Our mom... now that I think about it, when you were born, she was about as old as you are now. She was very cheerful, soft... and pretty. Well, at least from what I remember. Actually, you look a lot like her. When I saw you for the first time, I thought â€” thank the gods, unlike me, Rain took after mom!"</p>
<p class="chapter-paragraph">Sunny chuckled. Rain indeed resembled their mom very much. Of course, her beauty was far more striking... after all, she was an Awakened. Perhaps more importantly than that, she had grown up in an affluent district of NQSC, breathing clean air and eating well. Their mother, however, had spent all her life in the outskirts, where the air was toxic and the best food one could get was synthpaste. She had been affected by this harsh and unforgiving environment, inside and out.</p>
<p class="chapter-paragraph">...Still, in Sunny's memory, she was breathtaking. His smile widened a little as he looked at Rain, studying her features subtly. "She loved us very much. Mom worked in a factory that produced air filtration systems, and spent all her free time taking care of you and me. We lived in a small cell in one of the hives, on one of the highest floors. In the winter, she often cuddled with us on the floor, sharing her warmth and reading to us."</p>
<p class="chapter-paragraph">Sunny searched her memory for more details, not knowing what else to say.</p>
<p class="chapter-paragraph">"Oh, yes... she liked reading. We had an old communicator with a cracked screen, and she downloaded all kinds of stuff from the network to read. She especially liked fanciful stories about the world before the Dark Times. What else? Her favorite snack was fried synthpaste crumbs, with whichever spices she could get. She called me Sunless because I was born during an eclipse, and called you Rain because you were born during a storm."</p>
<p class="chapter-paragraph">Rain's eyes widened slightly.</p>
<p class="chapter-paragraph">He paused, remained silent for a few moments, and then sighed. "...She got sick when you were about three, and eventually passed away. I... hope you never believed that you had been abandoned. Because she would have never left you... or me... by choice. It's just that life is hard in the outskirts."</p>
<p class="chapter-paragraph">Sunny hesitated for a while, looking at the gently rustling tree. Eventually, a pale smile twisted his lips.</p>
<p class="chapter-paragraph">"I know that it probably doesn't mean as much to you as it does to me. After all, you already have parents, and they are quite wonderful parents at that. I don't want or expect you to feel any particular way about what I told you, either. It's just that... being forgotten is quite a sad thing. No one remembers mom and dad in this world, except me... but now, you can remember them too. It makes me happy to know that."</p>
<p class="chapter-paragraph">Rain remained silent for a few moments.</p>
<p class="chapter-paragraph">Then, she said quietly:</p>
<p class="chapter-paragraph">"I will. I'll keep them well in my memory."</p>
<p class="chapter-paragraph">Sunny smiled. With that, he stretched his arms above his head and let out a long sigh. "Well, good. Now, speaking of Memories... we were sidetracked for quite a long time, weren't we? Young Lady Tamar is probably wondering what the hell are you doing in the baths for so long. So, let's get to the important stuff, shall we?"</p>
<p class="chapter-paragraph">Rain studied his face with a sober expression for a while, then smiled tentatively. "Sure. After all, as a Legacy, I should receive some cool stuff, shouldn't I? I swear, there has never been a poorer Legacy than me... and a stingier founder of a Legacy Clan than you. Big brother..."</p>
        </div>
        
        <div class="chapter-nav">
            <a href="1976.html" class="">â† Previous</a>
            <a href="../chapter-list.html">ğŸ“š All Chapters</a>
            <a href="1978.html" class="">Next â†’</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>ğŸ“– Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">ğŸ‘¤ Characters</button>
            <button class="wiki-tab" data-tab="terms">ğŸ“š Terms</button>
            <button class="wiki-tab" data-tab="locations">ğŸ—ºï¸ Places</button>
            <button class="wiki-tab" data-tab="events">âš”ï¸ Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">ğŸ“–</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ğŸ¤–</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ğŸ¤– Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>ğŸ‘¤ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">ğŸ‘¤</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">ğŸ“·</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">ğŸ“Š READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">â€”</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">âš™ï¸ ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">â€”</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸªŸ</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldnâ€™t start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>