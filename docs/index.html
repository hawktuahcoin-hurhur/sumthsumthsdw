<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow Slave - by Guiltythree</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="logo">ğŸ“– Shadow Slave</a>
            <div class="nav-links">
                <a href="chapter-list.html">ğŸ“š Chapters</a>
                <a href="login.html">ğŸ’¾ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">ğŸ”— Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">ğŸ‘¤ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main>
        
    <div class="hero">
        <h1>Shadow Slave</h1>
        <p class="author">by Guiltythree</p>
        <a href="chapters/1.html" class="btn">ğŸ“– Start Reading</a>
    </div>
    
    <div class="disclaimer-banner">
        <p>âš ï¸ <strong>Note:</strong> The wiki is very iffy, so don't take all the info to heart.</p>
    </div>
    
    <div id="resume-section" class="resume-section">
        <h3>ğŸ“š Continue Reading</h3>
        <p>You've read <strong id="read-count">0</strong> chapters</p>
        <a href="#" class="btn">Continue Chapter 1</a>
    </div>
    
    <div class="menu-grid">
        <a href="chapter-list.html" class="menu-card">
            <div class="icon">ğŸ“š</div>
            <h3>All Chapters</h3>
            <p>Browse 2,720 chapters</p>
        </a>
        <a href="chapters/1.html" class="menu-card">
            <div class="icon">ğŸ“–</div>
            <h3>Read with Wiki</h3>
            <p>Sidebar updates per chapter</p>
        </a>
        <a href="login.html" class="menu-card">
            <div class="icon">ğŸ’¾</div>
            <h3>Save Progress</h3>
            <p>Your progress is auto-saved</p>
        </a>
    </div>
    
    <div class="stats">
        <div class="stat">
            <div class="stat-number">2,720</div>
            <div class="stat-label">Chapters</div>
        </div>
        <div class="stat">
            <div class="stat-number">~5,440,000</div>
            <div class="stat-label">Words</div>
        </div>
        <div class="stat">
            <div class="stat-number">~21,760</div>
            <div class="stat-label">Minutes to Read</div>
        </div>
    </div>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ğŸ¤–</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ğŸ¤– Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>ğŸ‘¤ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            <div id="profile-avatar" style="width: 80px; height: 80px; border-radius: 50%; background: var(--secondary); margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; font-size: 2rem;">ğŸ‘¤</div>
            <div id="profile-name" style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem;"></div>
            <div id="profile-email" style="color: var(--text-light); margin-bottom: 1.5rem;"></div>
            <div style="background: rgba(255,255,255,0.05); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;"><span>Chapters Read:</span><span id="profile-chapters">0</span></div>
                <div style="display: flex; justify-content: space-between;"><span>Last Chapter:</span><span id="profile-last">None</span></div>
            </div>
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="js/main.js"></script>
</body>
</html>