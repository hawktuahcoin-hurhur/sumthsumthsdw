<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 172 Memory Market - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">ğŸ“– Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">ğŸ“š Chapters</a>
                <a href="../login.html">ğŸ’¾ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">ğŸ”— Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">ğŸ‘¤ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 172 Memory Market</h1>
            <div class="chapter-meta">
                Chapter 172 of 2720 â€¢ 1,224 words â€¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">ğŸ”Š Play</button>
                <button class="tts-btn tts-pause" type="button">â¸ Pause</button>
                <button class="tts-btn tts-resume" type="button">â–¶ Resume</button>
                <button class="tts-btn tts-stop" type="button">â¹ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85Ã—</option>
                        <option value="1" selected>1Ã—</option>
                        <option value="1.15">1.15Ã—</option>
                        <option value="1.3">1.3Ã—</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="172">
            <p class="chapter-paragraph">Behind the door, there was a medium-sized hall that had no windows. It was illuminated by a strange lantern that levitated in its center, radiating a bright and stable glow.</p>
<p class="chapter-paragraph">Along the walls of the room stood various weapon racks, wooden mannequins dressed in full suits of armor, and tables with a wide assortment of beautiful and intriguing objects placed upon them.</p>
<p class="chapter-paragraph">All of it â€” the weapons, the armors, the objects, even the levitating lantern â€” were Memories.</p>
<p class="chapter-paragraph">Sunny felt a thundering thought explode in his mind. For a few moments, he was only able to think about one thing:</p>
<p class="chapter-paragraph">'Money! That is so much money!'</p>
<p class="chapter-paragraph">Inside this unassuming hall hid a fortune that could rival that of an entire corporation.</p>
<p class="chapter-paragraph">He was barely stopping himself from drooling.</p>
<p class="chapter-paragraph">"Uh... Sunny?"</p>
<p class="chapter-paragraph">Brought back from his covetous stupor, Sunny blinked a couple of times and glanced at Kai.</p>
<p class="chapter-paragraph">"Huh?"</p>
<p class="chapter-paragraph">The beautiful archer hesitated for a moment, then said:</p>
<p class="chapter-paragraph">"I was saying, this is Stev. He is in charge of this place."</p>
<p class="chapter-paragraph">Only now did Sunny notice that there was someone else in the room. It was a man that was old by the standards of the Dark City, nearing twenty-five or so. He had a round face and cheerful eyes, which were currently full of doubt and hints of disgust.</p>
<p class="chapter-paragraph">His gaze, of course, was aimed at Sunny.</p>
<p class="chapter-paragraph">'Have you looked in the mirror, bastard?!'</p>
<p class="chapter-paragraph">Apart from his extremely tall stature, there was one other special thing about Stev's appearance, and it was that he was... fat. He was the first obese person that Sunny had met in the Dark City. Having a belly like that in a place like this must have required a lot of work, talent and dedication.</p>
<p class="chapter-paragraph">He didn't know whether to be impressed or appalled.</p>
<p class="chapter-paragraph">In any case, Sunny decided to not get on Stev's bad side.</p>
<p class="chapter-paragraph">...He wouldn't want to get eaten by this ogre, after all!</p>
<p class="chapter-paragraph">"Uh... nice to meet you, Stev. I'm Sunny."</p>
<p class="chapter-paragraph">The ample giant looked down at him, then glanced at Kai, and said in a strange voice:</p>
<p class="chapter-paragraph">"Night, my dear friend. Are you sure this dirty vagrant is... a customer?"</p>
<p class="chapter-paragraph">Sunny frowned.</p>
<p class="chapter-paragraph">'Be civil... be civil...'</p>
<p class="chapter-paragraph">"Hey, fat bastard. Are you sure that this dirty vagrant won't break every bone in that fat blob you have for a body?"</p>
<p class="chapter-paragraph">In the dead silence, both Kai and Stev stared at him with wide eyes.</p>
<p class="chapter-paragraph">Then, Stev leaned back and let out a thunderous laugh.</p>
<p class="chapter-paragraph">"This little gremlin is a funny one, Night! Well, good. Very good! If there's one thing I lack in this cave, it's entertainment."</p>
<p class="chapter-paragraph">Chuckling, he shook his head and said:</p>
<p class="chapter-paragraph">"Still, my goods aren't cheap, my dear friend... uh... Sunny? A good Memory will cost you a dozen shards, at least. Much more if you want something really useful. Are you sure you have the means to shop here in my emporium? How many shards can a slum rat like you have?"</p>
<p class="chapter-paragraph">Sunny blinked.</p>
<p class="chapter-paragraph">"I think there was a misunderstanding. Have you seen me? Do I look like someone who would ever be able to buy something from you? Of course not! I've never even absorbed a single soul shard, that should tell you how many of them I have."</p>
<p class="chapter-paragraph">Kai gave him a strange look.</p>
<p class="chapter-paragraph">Because of how confident Sunny had been while traversing the ruins, he must have assumed that his companion was sufficiently powerful. However, now he suddenly learned that Sunny had never absorbed any soul essence. With his ability to sense lies, the charming archer would know that it was the truth.</p>
<p class="chapter-paragraph">Well, of course it was. He absorbed plenty of shadow fragments, instead.</p>
<p class="chapter-paragraph">Sunny gave away that misleading secret on purpose. He didn't want Night to start questioning the amount of soul shards he was about to spend. Letting the archer think that he was too obsessed with wealth to expend any on increasing his power would, hopefully, lessen the impact a bit.</p>
<p class="chapter-paragraph">Meanwhile, Sunny shook his head.</p>
<p class="chapter-paragraph">"No, no. Kai here is the one who'll be handing you the shards. I'm just here to point him at the right ones. I have an eye for good Memories, you see."</p>
<p class="chapter-paragraph">By which he meant that his eyes were literally capable of peering into the very essence of Memories and discerning their true traits. But neither of them needed to know that.</p>
<p class="chapter-paragraph">Stev scratched the back of his head.</p>
<p class="chapter-paragraph">"Uh... well. In that case, take a look around. Ask me any questions if something catches your eye."</p>
<p class="chapter-paragraph">Then he glanced at Night and scoffed.</p>
<p class="chapter-paragraph">"You could have just asked me for advice, you know? It's not like I can lie to you."</p>
<p class="chapter-paragraph">Kai smiled with embarrassment.</p>
<p class="chapter-paragraph">"Oh. Ah... yeah, sorry."</p>
<p class="chapter-paragraph">When Stev walked away, he leaned to Sunny and whispered:</p>
<p class="chapter-paragraph">"So the favor you wanted from me is to pretend to buy a Memory and then give it to you, so that no one knew that you have a hidden ace?"</p>
<p class="chapter-paragraph">Sunny stared at him. Actually, it was a good theory. Having a weapon or tool that no one knew about was a very good advantage.</p>
<p class="chapter-paragraph">Unfortunately, Kai didn't really know who he was dealing with.</p>
<p class="chapter-paragraph">Sunny shook his head.</p>
<p class="chapter-paragraph">"No. I don't want you to buy a Memory on my behalf."</p>
<p class="chapter-paragraph">Then, with an earnest smile, he added:</p>
<p class="chapter-paragraph">"I want you to buy around ten."</p>
<p class="chapter-paragraph">Kai's beautiful green eyes widened.</p>
<p class="chapter-paragraph">***</p>
<p class="chapter-paragraph">Leaving the charming archer struck dumb and speechless, Sunny walked away and started perusing the various Memories on display.</p>
<p class="chapter-paragraph">There were a lot of them. By his estimations, at least a hundred, if not more.</p>
<p class="chapter-paragraph">All sorts of weapons immediately attracted his attention.</p>
<p class="chapter-paragraph">There were straight swords, curved swords, estocs and rapiers, scimitars and sabres. Various daggers and knives called to him, shining in the bright light on the enchanted lanterns. There were a dozen or so of polearms, from spears to glaives to halberds to naginatas. Several battle axes were displayed nearby. Further away, war hammers, maces, and flails radiated a silent feeling of crushing force. A few bows received a dreamy look from Kai.</p>
<p class="chapter-paragraph">There were suits of armor, too. From leather to metal, light to heavy, scale to plate. Elegant, unrefined, graceful, barbarous... whatever a person could wish for. Some of them were shaped like actual armour, others looked like cloth garments.</p>
<p class="chapter-paragraph">Placed on tables, various objects begged for his attention. Gods only knew what enchantments they possessed...</p>
<p class="chapter-paragraph">Well, to be precise, gods and Stev.</p>
<p class="chapter-paragraph">And Sunny.</p>
<p class="chapter-paragraph">Walking among the Memories, he would periodically place his hand on them. Immediately, the inner weave of the Memory would be laid bare to his eyes, which were changed forever by the drop of Weaver's ichor.</p>
<p class="chapter-paragraph">Studying the logic of the weave, he was able to glimpse its purpose. Of course, there weren't any truly remarkable Memories in the hall. Who would want to sell something like that? However, even then, he managed to separate really good ones from simply acceptable, from borderline awful.</p>
<p class="chapter-paragraph">...That last category was what he came here for.</p>
<p class="chapter-paragraph">'Quantity over quality, remember?'</p>
<p class="chapter-paragraph">Sunny was almost done choosing the absolute worst Memories out of them all when his sight suddenly fell on a badly illuminated corner.</p>
<p class="chapter-paragraph">In that corner, covered in a thick layer of dust, stood a seemingly discarded suit of armor.</p>
<p class="chapter-paragraph">...When Sunny saw it, his hands slightly trembled.</p>
        </div>
        
        <div class="chapter-nav">
            <a href="171.html" class="">â† Previous</a>
            <a href="../chapter-list.html">ğŸ“š All Chapters</a>
            <a href="173.html" class="">Next â†’</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>ğŸ“– Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">ğŸ‘¤ Characters</button>
            <button class="wiki-tab" data-tab="terms">ğŸ“š Terms</button>
            <button class="wiki-tab" data-tab="locations">ğŸ—ºï¸ Places</button>
            <button class="wiki-tab" data-tab="events">âš”ï¸ Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">ğŸ“–</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ğŸ¤–</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ğŸ¤– Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>ğŸ‘¤ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">ğŸ‘¤</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">ğŸ“·</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">ğŸ“Š READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">â€”</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">âš™ï¸ ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">â€”</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸªŸ</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldnâ€™t start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>