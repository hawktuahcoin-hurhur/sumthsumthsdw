<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 314 Leaving the Dark City - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">ğŸ“– Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">ğŸ“š Chapters</a>
                <a href="../login.html">ğŸ’¾ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">ğŸ”— Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">ğŸ‘¤ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 314 Leaving the Dark City</h1>
            <div class="chapter-meta">
                Chapter 314 of 2720 â€¢ 1,158 words â€¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">ğŸ”Š Play</button>
                <button class="tts-btn tts-pause" type="button">â¸ Pause</button>
                <button class="tts-btn tts-resume" type="button">â–¶ Resume</button>
                <button class="tts-btn tts-stop" type="button">â¹ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85Ã—</option>
                        <option value="1" selected>1Ã—</option>
                        <option value="1.15">1.15Ã—</option>
                        <option value="1.3">1.3Ã—</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="314">
            <p class="chapter-paragraph">Chapter 314 Leaving the Dark City</p>
<p class="chapter-paragraph">After everything was done and Nephis used her flames to heal those who survived, they returned to the city through the catacombs.</p>
<p class="chapter-paragraph">Perhaps she wished to eviscerate the army of undead monsters that were now left without the tyrant to bring them back to life. But in the end, they were met with nothing but silence.</p>
<p class="chapter-paragraph">The horde of ferocious skeletons that had once almost cost Sunny and the rest of the cohort their lives was no more. The dark tunnels stretching beneath the ruins were littered with piles of bones, which were slowly turning into dust. It seemed as though the moment the Lord of the Dead had been destroyed, its servants had perished, too.</p>
<p class="chapter-paragraph">After a while, the group of humans emerged from the collapsed tower of the lighthouse and continued on its way back to the Bright Castle.</p>
<p class="chapter-paragraph">They were going to spend their last night there before leaving the Dark City behind.</p>
<p class="chapter-paragraph">***</p>
<p class="chapter-paragraph">In a small room in the depths of the ancient citadel, seven people gathered around a table.</p>
<p class="chapter-paragraph">They were Sunny, Nephis, Cassie, Caster, Effie, Kai, and Seishan.</p>
<p class="chapter-paragraph">Beyond the walls of the castle, the absolute darkness of the night had devoured the world. Nightmare Creatures were prowling the cursed ruins, and somewhere far away, black waves were crashing against the indomitable granite surface of the city wall.</p>
<p class="chapter-paragraph">Inside, the cold light of a Memory lantern illuminated their faces.</p>
<p class="chapter-paragraph">Strangely, everyone was silent, as though not sure what to say. Finally, Sunny broke the silence by yawning loudly.</p>
<p class="chapter-paragraph">"Shall we get on with this? Tomorrow is going to be a long day, and some of us need their beauty sleep."</p>
<p class="chapter-paragraph">He threw a sideways glance at Kai, thought for a bit, and then added:</p>
<p class="chapter-paragraph">"Actually, every day after today is going to be a long one. So let's just do it."</p>
<p class="chapter-paragraph">Nephis stared at him for a few moments, then echoed his words:</p>
<p class="chapter-paragraph">"...Do it."</p>
<p class="chapter-paragraph">With that, they summoned their Memories.</p>
<p class="chapter-paragraph">An austere tachi and a ghostly stiletto appeared in Sunny's hands.</p>
<p class="chapter-paragraph">A graceful war hammer with a narrow beak appeared in Seishan's.</p>
<p class="chapter-paragraph">Effie summoned her beautiful bronze spear and a heavy round shield.</p>
<p class="chapter-paragraph">Finally, a simple band of metal decorated with a single gem weaved itself from light and rested gently on Changing Star's head.</p>
<p class="chapter-paragraph">They were the Shard Memories.</p>
<p class="chapter-paragraph">Dawn, Zenith, Dusk, Midnight, Sunlight, Moonlight...</p>
<p class="chapter-paragraph">...And Starlight.</p>
<p class="chapter-paragraph">The last Memory was a short, flowing white cloak that draped itself around Effie's shoulders. This was the Shard she had received after slaying the Lord of the Dead.</p>
<p class="chapter-paragraph">For a few moments, no one moved. Then, Effie said:</p>
<p class="chapter-paragraph">"So, uh... what now?"</p>
<p class="chapter-paragraph">Nephis titled her head a little, then frowned. Finally, after some time passed, she said:</p>
<p class="chapter-paragraph">"Come closer."</p>
<p class="chapter-paragraph">When they did, something unexpected happened. Sunny felt the hilts of his weapons suddenly growing hotter, and soon, both Midnight and Moonlight Shard began emanating a ghostly, ethereal light. The same was happening to the other shards.</p>
<p class="chapter-paragraph">Seven beams of light shot toward the center of the room and collided. Then, they fused with each other, and soon, seven objects weaved themselves from that light and hovered in the air.â€‹</p>
<p class="chapter-paragraph">They were keys forged out of lustrous metal, with seven shining stars engraved on their surface.</p>
<p class="chapter-paragraph">It was the manifestation of the terrible oath that the seven heroes had given all those thousands of years ago. The keys that were used to seal the curse of the all-consuming darkness underground.</p>
<p class="chapter-paragraph">Suddenly, the seven keys turned into streams of light and shot toward each of the seven people gathered in the room.</p>
<p class="chapter-paragraph">One beam hit Sunny in the chest and disappeared, absorbed into his core.</p>
<p class="chapter-paragraph">The voice of the Spell resounded in his ears:</p>
<p class="chapter-paragraph">[...You have received an Oath Key.]</p>
<p class="chapter-paragraph">Sunny shivered. He didn't want anything to do with that morbid oath.</p>
<p class="chapter-paragraph">...But in the end, he had no other choice.</p>
<p class="chapter-paragraph">Glancing at the rest of the people gathered in the room, Changing Star lingered for a moment, and then said:</p>
<p class="chapter-paragraph">"We're ready."</p>
<p class="chapter-paragraph">***</p>
<p class="chapter-paragraph">In the dim light of dawn, the gates of the castle opened for the last time. A long procession of humans walked through them, leaving the ancient citadel that had sheltered them for so long.</p>
<p class="chapter-paragraph">They walked under the swinging skulls, not paying them any attention. In the aftermath of all the strife, no one had bothered to remove the ghastly things from their chains.</p>
<p class="chapter-paragraph">It was not like anyone could have forgotten the hundreds of lives lost in the struggle, and thousands of deaths before that, even if the skulls were removed.</p>
<p class="chapter-paragraph">Five hundred people descended the hill and entered the Dark City. A few Nightmare Creatures tried to attack them, and were eviscerated before managing to do any harm.</p>
<p class="chapter-paragraph">These five hundred humans were not a defenseless crowd. They were a battle-hardened army, one comprised of exceptionally powerful Sleepers... the most powerful Sleepers to ever be born from the human race, perhaps.</p>
<p class="chapter-paragraph">They moved the ruins, cutting down anything that dared to block their path. Soon, the Sleepers approached the western boundary of the Dark City and scaled the ancient wall.</p>
<p class="chapter-paragraph">There, they stopped and turned, staring at the silhouette of the Bright Castle in solemn silence.</p>
<p class="chapter-paragraph">...By then, pillars of black smoke were billowing from each of its windows. Soon, the whole castle was enveloped by furious flames, which slowly devoured the white stone of its walls. The magnificent marble cracked and melted, destroyed by the terrible heat. The smaller towers swayed and moved, and then fell into the terrible crucible.</p>
<p class="chapter-paragraph">The fire was slowly destroying the Bright Castle, turning it into a molten ruin.</p>
<p class="chapter-paragraph">In a sense, this was fitting. After all, everything else in the Dark City had been ruined a long, long time ago.</p>
<p class="chapter-paragraph">Surprisingly, this act of destruction was not Changing Star's idea. She wasn't the one who ordered to burn the Bright Castle behind them, like a final gesture to hammer it into everyone's souls that there was no way back anymore. Sunny would have expected something like that from Nephis.</p>
<p class="chapter-paragraph">But no, it was the decision of the people themselves.</p>
<p class="chapter-paragraph">They wanted to destroy the ancient citadel, because they hated it. They hated these ancient, bloodsoaked stones only a little bit less than they needed them to survive.</p>
<p class="chapter-paragraph">And now that they were leaving, they wanted to erase the Bright Castle from existence. Perhaps if it was gone, the memories of all the darkness that they had witnessed there, and were the perpetrators of, would disappear with it.</p>
<p class="chapter-paragraph">After a while, the misshapen, twisted silhouette of the dying fortress was completely hidden by the fire and smoke. Slowly, the silent Sleepers turned away from that sight and looked far away into the distance.</p>
<p class="chapter-paragraph">They were looking west.</p>
<p class="chapter-paragraph">That was where they were going.</p>
<p class="chapter-paragraph">To lay siege to the Crimson Spire.</p>
<p class="chapter-paragraph">One after another, the Sleepers descended from the wall and left the Dark City behind.</p>
        </div>
        
        <div class="chapter-nav">
            <a href="313.html" class="">â† Previous</a>
            <a href="../chapter-list.html">ğŸ“š All Chapters</a>
            <a href="315.html" class="">Next â†’</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>ğŸ“– Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">ğŸ‘¤ Characters</button>
            <button class="wiki-tab" data-tab="terms">ğŸ“š Terms</button>
            <button class="wiki-tab" data-tab="locations">ğŸ—ºï¸ Places</button>
            <button class="wiki-tab" data-tab="events">âš”ï¸ Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">ğŸ“–</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ğŸ¤–</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ğŸ¤– Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>ğŸ‘¤ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">ğŸ‘¤</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">ğŸ“·</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">ğŸ“Š READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">â€”</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">âš™ï¸ ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">â€”</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸªŸ</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldnâ€™t start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>