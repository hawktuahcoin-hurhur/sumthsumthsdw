<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2170 Two Princes - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">ğŸ“– Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">ğŸ“š Chapters</a>
                <a href="../login.html">ğŸ’¾ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">ğŸ”— Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">ğŸ‘¤ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 2170 Two Princes</h1>
            <div class="chapter-meta">
                Chapter 2170 of 2720 â€¢ 1,112 words â€¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">ğŸ”Š Play</button>
                <button class="tts-btn tts-pause" type="button">â¸ Pause</button>
                <button class="tts-btn tts-resume" type="button">â–¶ Resume</button>
                <button class="tts-btn tts-stop" type="button">â¹ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85Ã—</option>
                        <option value="1" selected>1Ã—</option>
                        <option value="1.15">1.15Ã—</option>
                        <option value="1.3">1.3Ã—</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="2170">
            <p class="chapter-paragraph">Jest was facing a dilemma, and one that did not have an obvious answer. He did not know whether the young man in front of him was truly Anvil of Valor. He could not risk killing him before finding out the truth, either...</p>
<p class="chapter-paragraph">And there was no sure way to find the truth. So, he could only try his best in the absence of a reliable solution. The only reasonable theory Jest had at the moment was that Anvil was somehow expelled from the Seed without conquering the Nightmare. So, he was still an Awakened. His physical and spiritual bodies had not yet fused as a result â€” one was in the waking world, and one was here in Bastion. Therefore...</p>
<p class="chapter-paragraph">If the young man was indeed Anvil, bringing him back to the waking world would result in the physical body awakening inside the sleeping pod. That would prove his identity. If Anvil's physical body remained asleep... that would give them more information, too. It was not a great plan, but it was at least something. So, that was what they did. After telling Gwyn the truth, they hurried to bring Anvil back to the throne room, arriving there just before the first Awakened started to enter the main keep. The young man did not resist â€” he showed a cold and disdainful expression when being ordered to follow, but responded well to being cajoled by Gwyn. That was in line with how Anvil would have behaved in his usual state. None of them had the right to order him around, after all, but he would usually easily agree to their requests. The young man... the thing... was eerily similar to Anvil that Jest knew. It was to the point that he had to keep reminding himself that there was a possibility that the person he was looking at could turn out to be an impostor.</p>
<p class="chapter-paragraph">Was there even an impostor in the world who could act out the very essence of another person so faithfully?</p>
<p class="chapter-paragraph">It was unlikely. And yet, Jest could not shake off the subtle sense of discomfort â€” repulsion, even â€” he felt near this supposed Anvil. Madoc and Gwyn did not seem to feel the same fear, but they also did not possess instincts as sharp as his. 'Damn it... I don't know.'</p>
<p class="chapter-paragraph">Jest departed first, using the tether he had left in the compound of Clan Valor to return to the underground chamber. There, he was instantly surrounded by the Knights of Valor. There was no telling what would happen next, and if it would even transpire near Anvil's sleeping pod. But it was better to be safe than sorry. A few moments passed in tense silence. Jest stared at Anvil's sleeping form, waiting â€” praying â€” that he would open his eyes. But instead, a minute or two later, it was Madoc who broke the silence, arriving from his own sleeping chamber in a hurry. The older of Warden's sons looked at the sleeping pod. Then, his eyes widened. "Gwyn and... and the other... they left before me."</p>
<p class="chapter-paragraph">Cursing, Jest rushed out of the room. 'Damn Valor brats! Who asked them to keep the sleeping pods of their wives on another floor?! The heartless bastards!'</p>
<p class="chapter-paragraph">Granted, this compound had been built back when both Madoc and Anvil were still little kids... but still!</p>
<p class="chapter-paragraph">There was apparently space here for that creepy kid, Asterion, so why not Gwyn?!</p>
<p class="chapter-paragraph">It took him a few minutes more to arrive at the floor where the sleeping pods of the immediate family were located. Just when Jest was leaving the elevator, he heard a strange noise coming from behind the armored door leading to Gwyn's sleeping chamber. Instead of waiting for someone to enter the code, he simply tore through the reinforced alloy with bare hands and dashed inside. Gwyn was standing in the corner, having just left the sleeping pod. And in front of it...</p>
<p class="chapter-paragraph">Was Anvil, dressed just like he had been in the Dream Realm. Which did not make any sense, since only Ascended could carry physical items on them between the two worlds. Hearing the deafening noise of an alloy door being torn apart, the young man turned around and looked at Jest.</p>
<p class="chapter-paragraph">Then, he raised his eyebrow. "Uncle Jest... why are you breaking down the door to my wife's sleeping chamber?"</p>
<p class="chapter-paragraph">The young man stared at him for a few moments...</p>
<p class="chapter-paragraph">And smiled.</p>
<p class="chapter-paragraph">The smile was bright and friendly, but for some reason, it made Jest shudder. For once in his lifetime, he had no comeback at all. ***</p>
<p class="chapter-paragraph">Things had gotten... strange, after that. Somehow, there were two Anvil's in existence. One was sleeping in an iron sarcophagus deep below the manor of Clan Valor.</p>
<p class="chapter-paragraph">The other was up and about, albeit seemingly suffering from severe amnesia. No one really knew how that had come to be, and who â€” or what â€” the second Anvil was. His existence could not be disclosed, either, and so, the young man was locked on one of the underground floors of the estate. He was made comfortable there, of course... but he was still no different from a prisoner. Imprisoning the head of the Valor family was an act of treason, but considering how strange and uncanny the entire situation was, it seemed like they had no other choice. Jest, Madoc, and Gwyn took turns taking care of the second Anvil â€” at first, they were on guard against him, but after a few days passed, their vigilance gradually lessened. The young man acted a bit odd, but was generally agreeable and easy to deal with, as long as they treated him nicely. If anything, he was much more pleasant and easygoing than the original Anvil had been... charming, even. So, everything was somewhat fine, on that front. At the same time, trouble was brewing in the Valor clan, where many saw the sudden situation as an opportunity for a power grab.</p>
<p class="chapter-paragraph">A few strange and frightening events had transpired in Bastion and in the compound of Clan Valor in NQSC, as well, and as a result, Jest and Madoc were suddenly extremely busy dealing with both problems.</p>
<p class="chapter-paragraph">While the situation on the underground level where the anomaly was kept remained calm and peaceful, the atmosphere in the manor itself had become tense and eerie. Jest felt like he was slowly losing control. That tension only continued to rise for a week or two...</p>
<p class="chapter-paragraph">Until, one day, everything changed. That was because, on that day, Nightmare Gate C2-167 suddenly disappeared, and Anvil of Valor â€” the original one â€” slowly opened his eyes inside the sleeping pod.</p>
        </div>
        
        <div class="chapter-nav">
            <a href="2169.html" class="">â† Previous</a>
            <a href="../chapter-list.html">ğŸ“š All Chapters</a>
            <a href="2171.html" class="">Next â†’</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>ğŸ“– Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">ğŸ‘¤ Characters</button>
            <button class="wiki-tab" data-tab="terms">ğŸ“š Terms</button>
            <button class="wiki-tab" data-tab="locations">ğŸ—ºï¸ Places</button>
            <button class="wiki-tab" data-tab="events">âš”ï¸ Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">ğŸ“–</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ğŸ¤–</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ğŸ¤– Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>ğŸ‘¤ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">ğŸ‘¤</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">ğŸ“·</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">ğŸ“Š READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">â€”</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">âš™ï¸ ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">â€”</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸªŸ</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldnâ€™t start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>