<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 318 Siege of the Crimson Spire 4 - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">üìñ Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">üìö Chapters</a>
                <a href="../login.html">üíæ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">üîó Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">üë§ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 318 Siege of the Crimson Spire 4</h1>
            <div class="chapter-meta">
                Chapter 318 of 2720 ‚Ä¢ 1,054 words ‚Ä¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">üîä Play</button>
                <button class="tts-btn tts-pause" type="button">‚è∏ Pause</button>
                <button class="tts-btn tts-resume" type="button">‚ñ∂ Resume</button>
                <button class="tts-btn tts-stop" type="button">‚èπ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85√ó</option>
                        <option value="1" selected>1√ó</option>
                        <option value="1.15">1.15√ó</option>
                        <option value="1.3">1.3√ó</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="318">
            <p class="chapter-paragraph">Chapter 318 Siege of the Crimson Spire (4)</p>
<p class="chapter-paragraph">"Stand your ground, wretches! If anyone runs, I'll kill you myself!"</p>
<p class="chapter-paragraph">Hearing Effie's voice, Kai flinched and forced himself to look away from the terrible visage of the horde of nightmarish abominations. Glancing down, he saw that his hand was shaking and clenched it into a fist. He had to calm himself, somehow, or his aim was going to suffer.</p>
<p class="chapter-paragraph">That wouldn't do.</p>
<p class="chapter-paragraph">...But honestly, how was a person supposed to not be terrified when a literal sea of Nightmare Creatures, each stronger and deadlier than anything anyone should ever be forced to face, was approaching them so fast?</p>
<p class="chapter-paragraph">Kai prided himself on overcoming things like stage fright and social anxiety, as well as getting through many unpalatable situations with grace and elegance, not to mention managing to survive in the Dark City for three long years without losing his humanity.</p>
<p class="chapter-paragraph">But this was just too much...</p>
<p class="chapter-paragraph">'...What would Sunny say?'</p>
<p class="chapter-paragraph">Thinking of his prickly, but adorable friend, Kai couldn't help but smile a little.</p>
<p class="chapter-paragraph">'Probably something like... oh, a horde of Nightmare Creatures? Yeah I've met one a few days ago. They all died when I sneezed, though.'</p>
<p class="chapter-paragraph">The strangest part was that he would be telling the truth. If Kai decided to dig deeper, he would discover something in the line of Sunny's sneeze causing a massive avalanche that wiped all the monsters out.</p>
<p class="chapter-paragraph">...Or, more likely, that his sneeze had awakened some ancient, much more terrifying creature, which then proceeded to devour all the monsters before turning its gaze on Sunny himself.</p>
<p class="chapter-paragraph">That was just how Sunny was.</p>
<p class="chapter-paragraph">...Unpredictable.</p>
<p class="chapter-paragraph">Strangely, these thoughts succeeded in calming Kai down. He only regretted that the cute scoundrel wasn't close by to reassure him in person.</p>
<p class="chapter-paragraph">Gazing at the approaching horde, he sighed and gripped his bow tighter.</p>
<p class="chapter-paragraph">The coral was sloping down in the place where Changing Star had chosen to face the guardians of the Spire. Because of that, the position of the third line was higher than the other two, which would allow them to continue firing long after Effie and the rest had engaged the Nightmare Creatures in melee.</p>
<p class="chapter-paragraph">In theory.</p>
<p class="chapter-paragraph">All around him, those Sleepers that had suitable Memories or Aspect Abilities were preparing to shoot, waiting for his command. The surviving Artisans and their assistants were busy loading the six powerful ballistae they had transported all the way from the Dark City and put together the last night. The sight of the mighty siege engines made Kai sigh wistfully.</p>
<p class="chapter-paragraph">...Maybe they were going to survive this battle, after all.</p>
<p class="chapter-paragraph">"First mark!"</p>
<p class="chapter-paragraph">As soon as Effie's shout reached his ears, he turned to the Artisans and waved a hand, giving them the signal to fire.</p>
<p class="chapter-paragraph">A second later, six heavy spears flashed through the air and crashed into the wall of monsters. Many of them were eviscerated, but these losses were like a drop of water in the sea of darkness.</p>
<p class="chapter-paragraph">Kai gritted his teeth.</p>
<p class="chapter-paragraph">"Second mark!"</p>
<p class="chapter-paragraph">"Now!"</p>
<p class="chapter-paragraph">As his melodic voice rolled over the third line of the Dreamer Army, he drew his bow and took aim.</p>
<p class="chapter-paragraph">Back in the real world, archery was Kai's favorite hobby. Not the practical skill of shooting a bow which was taught to many in school, but the ancient practice known as kyudo, which was more of a meditative ritual than a real battle art. Its orderly nature, tranquil philosophy, and repetitive motions appealed to something deep inside him.</p>
<p class="chapter-paragraph">The more stressed Kai was, the more he practiced.</p>
<p class="chapter-paragraph">Who knew that one day he would be relying on his marksmanship to survive?</p>
<p class="chapter-paragraph">Not that aiming at a literal horde of monsters was hard. He didn't have to worry about missing a shot with the Blood Arrow, at least.</p>
<p class="chapter-paragraph">Letting go of the string, Kai watched as the black arrow streaked through the air and bit deep into the body of a tall carapace demon. Its bone tip pierced the metal armor of the terrible creature with ease. Not only was it of the Ascended Rank itself, it was also enhanced by Lady Nephis.</p>
<p class="chapter-paragraph">Very few creatures could resist his attacks.</p>
<p class="chapter-paragraph">"Keep firing! Kill as many as you can!"</p>
<p class="chapter-paragraph">The demon swayed, then fell to the ground. Kai felt the weakness that overtook him every time he summoned the morbid Memory dissipate, and called upon the Blood Arrow again.</p>
<p class="chapter-paragraph">However, he didn't get to take his second shot before the wave of abominations crashed into the line of Sleepers.</p>
<p class="chapter-paragraph">For a second, Kai was stunned by the harrowing sight. The scale of the massacre that was happening below him was just too vast to comprehend. His heart was instantly constricted, full of worry for Effie...</p>
<p class="chapter-paragraph">And all the other people he knew.</p>
<p class="chapter-paragraph">With a desperate grimace contorting his face, Kai aimed and shot again.</p>
<p class="chapter-paragraph">And then he did so again, and again, and again.</p>
<p class="chapter-paragraph">Everyone around him was doing everything in their power to kill as many Nightmare Creatures as they could. Arrows, magical projectiles, and heavy lances launched by the ballistae rained on the ghastly horde, reaping countless lives.</p>
<p class="chapter-paragraph">But it was not enough, not nearly enough...</p>
<p class="chapter-paragraph">Seeing so many people be torn to pieces and devoured while trying to protect him and the other archers, Kai couldn't help but wish that he could do more.</p>
<p class="chapter-paragraph">'If only I could fly up and get a better shot... if only I could get closer!'</p>
<p class="chapter-paragraph">...But he couldn't.</p>
<p class="chapter-paragraph">While others lost themselves in the battle completely, Kai had to keep a cool head. After all, he was responsible for the third line of the Dreamer Army. The lives of all these young men and women depended on him.</p>
<p class="chapter-paragraph">That was why he kept his eyes on the merciless grey sky.</p>
<p class="chapter-paragraph">Just a few meters above them, almost invisible in the bright light of dawn, a vast net made out of sharp iron wire was drawn above the battlefield.</p>
<p class="chapter-paragraph">The wire for this net was collected in the Labyrinth, from those areas where iron spiders were known to nest, and fashioned into the aerial barrier by the Artisans.</p>
<p class="chapter-paragraph">It was meant to protect them from the terrifying creatures that could fall at any moment from the skies.</p>
<p class="chapter-paragraph">After all, the Crimson Spire did not only have a Terror and a horde of guardians.</p>
<p class="chapter-paragraph">It also had its Messengers...</p>
        </div>
        
        <div class="chapter-nav">
            <a href="317.html" class="">‚Üê Previous</a>
            <a href="../chapter-list.html">üìö All Chapters</a>
            <a href="319.html" class="">Next ‚Üí</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>üìñ Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">üë§ Characters</button>
            <button class="wiki-tab" data-tab="terms">üìö Terms</button>
            <button class="wiki-tab" data-tab="locations">üó∫Ô∏è Places</button>
            <button class="wiki-tab" data-tab="events">‚öîÔ∏è Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">üìñ</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ü§ñ</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ü§ñ Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>üë§ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">üë§</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">üì∑</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">üìä READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">‚Äî</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">‚öôÔ∏è ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">‚Äî</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">‚úÖ</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ü™ü</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldn‚Äôt start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>