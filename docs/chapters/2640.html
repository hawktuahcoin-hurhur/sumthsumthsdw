<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 2640 Battle Plan - Shadow Slave</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <nav>
            <a href="../index.html" class="logo">ğŸ“– Shadow Slave</a>
            <div class="nav-links">
                <a href="../chapter-list.html">ğŸ“š Chapters</a>
                <a href="../login.html">ğŸ’¾ Save</a>
                <a href="https://www.webnovel.com/book/shadow-slave_17505878106372705" target="_blank" rel="noopener">ğŸ”— Official Webnovel</a>
                <div id="auth-container" style="display: flex; align-items: center; gap: 0.5rem;">
                    <button id="login-btn" class="btn btn-sm" style="background: var(--secondary);" onclick="handleLogin()">Sign In</button>
                    <button id="profile-btn" class="btn btn-sm" style="background: var(--primary); display: none;" onclick="showProfile()">ğŸ‘¤ Profile</button>
                    <button id="logout-btn" class="btn btn-sm" style="background: var(--accent); display: none;" onclick="handleLogout()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>
    <main class="with-sidebar">
        
    <div class="chapter-container">
        <div class="chapter-header">
            <h1>Chapter 2640 Battle Plan</h1>
            <div class="chapter-meta">
                Chapter 2640 of 2720 â€¢ 1,115 words â€¢ 4 min read
            </div>
            <div class="tts-controls" data-tts>
                <button class="tts-btn tts-play" type="button">ğŸ”Š Play</button>
                <button class="tts-btn tts-pause" type="button">â¸ Pause</button>
                <button class="tts-btn tts-resume" type="button">â–¶ Resume</button>
                <button class="tts-btn tts-stop" type="button">â¹ Stop</button>
                <span class="tts-rate-label">Speed
                    <select class="tts-rate">
                        <option value="0.85">0.85Ã—</option>
                        <option value="1" selected>1Ã—</option>
                        <option value="1.15">1.15Ã—</option>
                        <option value="1.3">1.3Ã—</option>
                    </select>
                </span>
                <span class="tts-unsupported" style="display:none;">(TTS not supported in this browser)</span>
            </div>
        </div>
        
        <div class="chapter-content" data-chapter="2640">
            <p class="chapter-paragraph">The structure at the heart of the Eternal City resembled a soaring, monolithic palace with sharp spires piercing the darkness of the underwater chasm. These spires, however, did not emanate radiant silver light â€” instead, they were black and lifeless, making the palace seem like a jagged mass of darkness.</p>
<p class="chapter-paragraph">There were several structures in the Eternal City that stood out among the rest: the Wharf, the Lighthouse, the Clocktower... but the Palace was the largest of them all, sprawled across an entire island and set under the highest point of the invisible dome protecting the city from the crushing weight of water.</p>
<p class="chapter-paragraph">Jet glanced at the dark spires looming in the distance, then shrugged.</p>
<p class="chapter-paragraph">"Lam willing to bet that the most important thing in this city is hidden there. The Dutchman is probably moving in that direction, as well."</p>
<p class="chapter-paragraph">She lingered for a moment.</p>
<p class="chapter-paragraph">"So, what is the plan?"</p>
<p class="chapter-paragraph">Sunny contemplated for a while.</p>
<p class="chapter-paragraph">"Well, now that the Night Garden is being repaired, we have two main goals left. Secure the source of the Storm God's lineage and find what I am looking for. The former is located in the Lighthouse, while the latter... the Palace is a good bet. There's also the building that looks like an armory, as well as several other interesting landmarks. The problem is that they are situated in different directions."</p>
<p class="chapter-paragraph">He smiled darkly.</p>
<p class="chapter-paragraph">â€œAnother problem is that this city is populated by a vast horde of immortal Great Ones â€” in fact, the city is what makes them immortal. Ideally, we should conquer this entire place, but that does not seem like a realistic goal at the moment. Unless we find a way to destroy the sorcery making the city eternal, that is. Granted, the same sorcery seems to be preventing the Stormsea from crushing it into dust, so there's that."</p>
<p class="chapter-paragraph">Sunny shook his head.</p>
<p class="chapter-paragraph">â€œWe should go for the Lighthouse and the Palace. If an opportunity to conquer the city presents itself in the process, we might consider it then. These are long-term goals, though. As for right now..."</p>
<p class="chapter-paragraph">Jet glanced at him and asked in a relaxed tone:</p>
<p class="chapter-paragraph">"Survive?"</p>
<p class="chapter-paragraph">He nodded.</p>
<p class="chapter-paragraph">"Yes. At the moment, far more immortals than the ones we dealt with are moving toward us. And when they arrive, we might not be able to defeat them all."</p>
<p class="chapter-paragraph">Jet smiled.</p>
<p class="chapter-paragraph">"We can't allow them to corner us on this island, right? If several swarms descend upon us here, even your shadow wraiths won't be able to withstand the assault. We'll be buried under an avalanche of flesh." Sunny hated to admit it, but Jet was right. They had suffered numerous casualties while enjoying a great numerical advantage... without it, even the Shadow Legion would struggle to win. Worse still, even if they repelled the second wave of immortals, there would be a third one, and the fourth, each more overwhelming than the previous one.</p>
<p class="chapter-paragraph">The shades would not be truly destroyed, but if Sunny was not careful, all of them would be vanquished one after another, leaving him to face a city full of indestructible Great Nightmare Creatures alone.</p>
<p class="chapter-paragraph">"So, what do you suggest?"</p>
<p class="chapter-paragraph">He had his own considerations, but not using Jet and her rich experience would be foolish.</p>
<p class="chapter-paragraph">She lingered for a few seconds, then said in an even tone:</p>
<p class="chapter-paragraph">â€œIf we can't allow ourselves to be cornered... we must attack. Advance to the neighboring islands, stretch out the line of combat contact, and let our superior numbers shine"</p>
<p class="chapter-paragraph">Sunny smiled.</p>
<p class="chapter-paragraph">â€œThat was my thinking, as well. We should cross to the three islands connected to this one by bridges, find easily reinforced positions, and repel the second wave of immortals."</p>
<p class="chapter-paragraph">He fell silent and closed his eyes for a moment.</p>
<p class="chapter-paragraph">"Things will get difficult from there, because we'll be nearing the inner ring of the city. Those three islands are connected to numerous more, and from different directions, as well â€” so, we will be flanked while repelling frontal assaults. It is hard to predict what will happen exactly, though, because we don't know enough about the Eternal City yet."</p>
<p class="chapter-paragraph">Jet nodded.</p>
<p class="chapter-paragraph">"Advance, conquer territory, establish reinforced positions... rinse and repeat. The Lighthouse is similar to the Wharf, though â€” both are situated on the outskirts of the city â€” while the Palace is standing dead in the center. Which one are we going to go for first?"</p>
<p class="chapter-paragraph">Sunny grimaced.</p>
<p class="chapter-paragraph">The Lighthouse was easier to reach, since they could simply move along the outer perimeter of the Eternal City to get there. The Palace, however... if the Dutchman was indeed carving a path to it, then they needed to arrive before the wraith army. He remained silent for a while, then asked: â€œHow long do you think the Night Garden will need to stay at the wharf to be repaired?"</p>
<p class="chapter-paragraph">Jet hesitated.</p>
<p class="chapter-paragraph">"I am not sure. We can set sail at any moment, though â€” either to escape or to circle the city and make landfall at a different point."á´œá´˜á´…á´€á´›á´‡ êœ°Ê€á´á´ novÄ™lfire.net</p>
<p class="chapter-paragraph">Sunny contemplated silently, feeling the pain of his Flaw growing more and more intense. He still had not answered Jet's question, after all.</p>
<p class="chapter-paragraph">Eventually, he said:</p>
<p class="chapter-paragraph">â€œThen let's go after the Lighthouse and the Palace at the same time."</p>
<p class="chapter-paragraph">He glanced at the distant spires of the Palace somberly.</p>
<p class="chapter-paragraph">"The Shadow Legion will launch an invasion into the depths of the Eternal City, slowly making its way to the central island. The Night Garden, meanwhile, will sail along the edges of the dome and bring us directly to the Lighthouse."</p>
<p class="chapter-paragraph">Sunny glanced at Jet with a concerned determination.</p>
<p class="chapter-paragraph">"If everything goes well â€” or rather, if we'll make it go well â€” we will launch a second offensive toward the Palace, this time from the Lighthouse. Then, we will see who gets to it first."</p>
<p class="chapter-paragraph">Jet sighed.</p>
<p class="chapter-paragraph">â€œSounds like a plan. I have just one question, though..."</p>
<p class="chapter-paragraph">Sunny raised an eyebrow.</p>
<p class="chapter-paragraph">â€œWhat?"</p>
<p class="chapter-paragraph">She grinned.</p>
<p class="chapter-paragraph">â€œAre you sure that we don't want to just get the hell out of here?"</p>
<p class="chapter-paragraph">Sunny stared at her with an incredulous expression for a while.</p>
<p class="chapter-paragraph">"Of course, we want to. Do you think that fighting immortal nightmare creatures on the bottom of the sea is how I want to spend my days? Did I not mention that I hate water?"</p>
<p class="chapter-paragraph">He grimaced.</p>
<p class="chapter-paragraph">â€œHowever, reality does not always cater to our wishes. So... let's wage a war on this cursed city and conquer it.â€™</p>
<p class="chapter-paragraph">Jet smiled lazily.</p>
<p class="chapter-paragraph">â€œLet's. Oh, and by the way... yes."</p>
<p class="chapter-paragraph">She patted Sunny on the shoulder.</p>
<p class="chapter-paragraph">"I do think that, deep down, that is how you want to spend your days."</p>
<p class="chapter-paragraph">Sunny scoffed.</p>
<p class="chapter-paragraph">â€˜Joke's on her. I'm not that deep..."</p>
        </div>
        
        <div class="chapter-nav">
            <a href="2639.html" class="">â† Previous</a>
            <a href="../chapter-list.html">ğŸ“š All Chapters</a>
            <a href="2641.html" class="">Next â†’</a>
        </div>
    </div>
    
    <aside class="wiki-sidebar">
        <div class="wiki-sidebar-header">
            <h3>ğŸ“– Wiki</h3>
            <p>Spoiler-free up to current chapter</p>
        </div>
        <div class="wiki-tabs">
            <button class="wiki-tab active" data-tab="characters">ğŸ‘¤ Characters</button>
            <button class="wiki-tab" data-tab="terms">ğŸ“š Terms</button>
            <button class="wiki-tab" data-tab="locations">ğŸ—ºï¸ Places</button>
            <button class="wiki-tab" data-tab="events">âš”ï¸ Events</button>
        </div>
        <div class="wiki-content">
            <div id="characters-section" class="wiki-section active">
                <div id="characters-list"></div>
            </div>
            <div id="terms-section" class="wiki-section">
                <div id="terms-list"></div>
            </div>
            <div id="locations-section" class="wiki-section">
                <div id="locations-list"></div>
            </div>
            <div id="events-section" class="wiki-section">
                <div id="events-list"></div>
            </div>
        </div>
    </aside>
    <button class="wiki-toggle">ğŸ“–</button>
    
    </main>
    
    <div class="ai-chat-widget">
        <button class="ai-chat-button" title="AI Assistant">ğŸ¤–</button>
        <div class="ai-chat-panel">
            <div class="ai-chat-header">
                <h3>ğŸ¤– Shadow Slave Guide</h3>
                <button class="ai-chat-close">&times;</button>
            </div>
            <div class="ai-chat-messages"></div>
            <div class="ai-chat-input">
                <input type="text" placeholder="Ask about characters, terms...">
                <button>Send</button>
            </div>
        </div>
    </div>
    <div id="comment-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h3>Add Comment</h3>
                <button class="close-btn" onclick="document.getElementById('comment-modal').style.display = 'none';">&times;</button>
            </div>
            <textarea id="comment-text" placeholder="Write your comment..." style="width: 100%; min-height: 100px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 1rem; resize: vertical;"></textarea>
            <button id="submit-comment-btn" class="btn" onclick="submitComment()">Post Comment</button>
        </div>
    </div>
    <div id="profile-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 480px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3>ğŸ‘¤ Your Profile</h3>
                <button class="close-btn" onclick="document.getElementById('profile-modal').style.display = 'none';">&times;</button>
            </div>
            
            <!-- Profile Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto 1rem;">
                    <div id="profile-avatar" style="width: 100%; height: 100%; border-radius: 50%; background: var(--secondary); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; overflow: hidden;">ğŸ‘¤</div>
                    <button id="avatar-upload-btn" onclick="document.getElementById('avatar-file-input').click()" style="position: absolute; bottom: 0; right: 0; width: 32px; height: 32px; border-radius: 50%; background: var(--primary); border: 2px solid var(--dark-bg); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; padding: 0; color: var(--dark-bg);" title="Change avatar">ğŸ“·</button>
                    <input type="file" id="avatar-file-input" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>
                <div id="profile-display-name" style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.25rem;"></div>
                <div id="profile-username" style="color: var(--primary); font-size: 0.95rem; margin-bottom: 0.5rem;"></div>
                <div id="profile-email" style="color: var(--text-light); font-size: 0.85rem;"></div>
            </div>
            
            <!-- Bio Section -->
            <div id="profile-bio-section" style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                    <span style="font-weight: 600; font-size: 0.85rem; color: var(--text-light);">BIO</span>
                    <button id="edit-bio-btn" class="btn btn-sm" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;" onclick="toggleBioEdit()">Edit</button>
                </div>
                <p id="profile-bio" style="color: var(--text); font-size: 0.9rem; line-height: 1.5; margin: 0;">No bio yet...</p>
                <div id="bio-edit-container" style="display: none;">
                    <textarea id="bio-input" placeholder="Tell us about yourself..." style="width: 100%; min-height: 80px; padding: 0.75rem; background: var(--card-bg); border: 1px solid var(--border); color: var(--text); border-radius: var(--radius); font-family: inherit; margin-bottom: 0.5rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-sm" style="flex: 1;" onclick="saveBio()">Save</button>
                        <button class="btn btn-sm" style="flex: 1; background: var(--border);" onclick="toggleBioEdit()">Cancel</button>
                    </div>
                </div>
            </div>
            
            <!-- Reading Stats -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">ğŸ“Š READING STATS</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-chapters" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Chapters Read</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-last" style="font-size: 1.5rem; font-weight: 700; color: var(--secondary);">â€”</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Last Chapter</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-progress" style="font-size: 1.5rem; font-weight: 700; color: var(--success);">0%</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Progress</div>
                    </div>
                    <div style="text-align: center; padding: 0.75rem; background: rgba(255,255,255,0.03); border-radius: var(--radius);">
                        <div id="profile-comments" style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">0</div>
                        <div style="font-size: 0.75rem; color: var(--text-light);">Comments</div>
                    </div>
                </div>
            </div>
            
            <!-- Account Info -->
            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: var(--radius); margin-bottom: 1.5rem;">
                <div style="font-weight: 600; font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.75rem;">âš™ï¸ ACCOUNT</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Provider</span>
                    <span id="profile-provider" style="color: var(--text);">Google</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                    <span style="color: var(--text-light);">Member Since</span>
                    <span id="profile-joined" style="color: var(--text);">â€”</span>
                </div>
            </div>
            
            <button class="btn" style="background: var(--accent); width: 100%;" onclick="handleLogout(); document.getElementById('profile-modal').style.display = 'none';">Sign Out</button>
        </div>
    </div>
    <div id="login-success-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âœ…</div>
            <h3 style="margin-bottom: 0.5rem;">Welcome!</h3>
            <p id="login-success-name" style="color: var(--text-light); margin-bottom: 1.5rem;"></p>
            <p style="margin-bottom: 1.5rem;">You're now signed in. You can comment on chapters and your progress will be synced.</p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('login-success-modal').style.display = 'none';">Continue Reading</button>
        </div>
    </div>
    <div id="popup-blocked-modal" class="modal" style="display: none;">
        <div class="modal-content" style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸªŸ</div>
            <h3 style="margin-bottom: 0.5rem;">Sign-in couldnâ€™t start</h3>
            <p style="color: var(--text-light); margin-bottom: 1.25rem;">
                If your browser blocked the sign-in popup, allow popups for this site and try again.
            </p>
            <button class="btn" style="width: 100%;" onclick="document.getElementById('popup-blocked-modal').style.display = 'none';">OK</button>
        </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="../js/main.js"></script>
</body>
</html>